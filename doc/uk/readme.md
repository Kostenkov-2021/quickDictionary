# NVDA Quick Dictionary
* Версія 1.0
* Завантажити [стабільну версію][1]

Ласкаво просимо до додатку NVDA Quick Dictionary, котрий дозволить вам швидко отримати словникову статтю з перекладом слова або словосполучення на обрану мову за допомогою натискання комбінації клавіш. Комбінацій клавіш небагато і всі вони інтуітивно зрозумілі та зручні тому Ви швидко їх запам'ятаєте.
Словникові статті містять докладну інформацію про слово, таку як частина мови, рід, множина чи однина, варіанти перекладу, перелік значень, синоніми та детальні приклади. Така інформація буде корисною для людей, які вивчають іноземні мови, або прагнуть використовувати у спілкуванні все багатство та  різнобарвність власної мови.

## Отримання словникової статті
Для того, щоб отримати статтю зі словника необхідно спочатку виділити слово, яке Вас цікавить або скопіювати його до буфера обміну. Після чого достатньо лише двічі натиснути комбінацію клавіш NVDA + D.
Існує також інша можливість отримання запису зі словника: одноразове натискання NVDA + D перемикає клавіатуру в режим керування додатком, а далі просто скористайтесь клавішою D.

Примітка: Перед тим як виконати запит до віддаленого сервісу додаток повинен отримати слово або словосполучення, що цікавить користувача. Послідовність дій які додаток виконує щоразу перед зверненням до словника:
* отримує виділений текст і виконує запит;
* якщо немає виділеного тексту - отримується текстовий вміст буфера обміну і виконується віддалений запит;
* якщо буфер обміну порожній або його вміст не є текстовими даними - додаток повідомляє про це користувачу і не виконує подальших дій.

## Режим керування додатком
Для швидкого доступу до найбільш використовуваних функцій додатку існує три комбінації клавіш:
* Натисніть двічі NVDA + D щоб отримати словникову статтю для обраного слова чи словосполучення.
* NVDA + Alt + D - щоб змінити місцями вихідну мову та мову призначення і отримати переклад для нової комбінації.
* NVDA + Windows + D - щоб відкрити діалог налаштувань додатку.

Для доступу до всіх інших функцій додатку потрібно переключитись в режим керування додатком, це можна зробити натиснувши одноразово NVDA + D. Ви почуєте короткий низький звуковий сигнал і зможете скористатись іншими командами, які буде описано нижче. При натисканні клавіші, яка не використовується у додатку, ви почуєте інший сигнал, що сповістить про помилкову команду і режим керування додатком буде автоматично вимкнений.

## Анонс обраної пари мов при роботі зі словником
Щоб дізнатись актуальні вихідну мову та мову призначення виконайте наступні дії:
1. Увімкніть режим керування додатком за допомогою комбінації клавіш NVDA + D.
2. Натисніть A, щоб прослухати, які мови обрані для отримання даних зі словника.

## Зміна місцями вихідної мови та мови призначення
Це можна швидко зробити наступним чином:
1. Виділити слово чи словосполучення, яке Вас цікавить.
2. Натиснути комбінацію клавіш NVDA + Alt + D.
Ви почуєте повідомлення про те, що мови змінено та наявну інформацію зі словника.

Те ж саме можна зробити скориставшись режимом керування додатком:
1. Виділити слово чи словосполучення, яке Вас цікавить.
2. Увімкнути режим керування додатком за допомогою NVDA + D, після чого натиснути S.

Примітка: Щоразу при зміні мов додаток виконує перевірку чи доступна нова пара мов для перекладу у віддаленому словнику. Якщо таке поєднання мов відсутнє - ви почуєте відповідне попередження.

## Відображення словникової статті в окремому вікні у вигляді веб-сторінки
Статтю зі словника можна також відобразити в окремому вікні у вигляді форматованої веб-сторінки:
1. Виділити слово або словосполучення.
2. Увімкнути режим керування додатком - NVDA + D.
3. Натиснути W.

Примітка: У цьому вікні можна використовувати стандартні команди навігації елементами веб-сторінки. Щоб закрити вікно достатньо натиснути Escape або Alt + F4.

## Копіювання результатів останнього запиту до буфера обміну
Це можна зробити виконавши наступну послідовність дій:
1. Увімкнути режим керування додатком - NVDA + D.
2. Натиснути клавішу C.
Після цього ви почуєте повідомлення про те, що дані скопійовано та саму словникову статтю.

Примітка: Якщо перед цим ще не виконувалось запитів до віддаленого словника - ви почуєте відповідне попередження.
Якщо в налаштуваннях додатку увімкнута опція копіювання словникових статей до буфера обміну, дані будуть автоматично копіюватись після кожного успішного запиту.

## Діалогове вікно налаштувань додатку
Щоб змінити параметри додатку, потрібно відкрити діалогове вікно його налаштувань. Це можна зробити двома способами:
1. За допомогою комбінації клавіш NVDA + Windows + D.
2. Через режим керування додатком: натиснути NVDA + D і після цього літеру O.
На екрані з'явиться стандартне діалогове вікно налаштувань NVDA з відкритим розділом нашого додатку.

### Вибір мов для отримання перекладів
Відкривши діалогове вікно налаштувань додатку, курсор NVDA відразу встановлюється на випадаючий список вибору вихідної мови. Ви можете обрати потрібну вам мову зі списку і натиснути Enter, або Tab для переходу до вибору мови призначення.

Примітка: Список доступних мов призначення залежить від обраної вихідної мови, тому мову призначення потрібно обирати лише після встановлення вихідної мови

### Опція "Копіювати до буфера обміну"
Після встановлення цієї галочки, отримані від словника дані будуть копіюватись до буфера обміну після кожного запиту.

### Опція "Автозміна вихідної мови та мови призначення"
Після включення цієї опції, додаток при неуспішних запитах до словника буде намагатись отримати дані вдруге помінявши місцями вихідну мову та мову призначення.

Примітка: Якщо зворотна комбінація мов недоступна - ви будете чути відповідне попередження про це щоразу.

### Опція "Використовувати альтернативний сервер"
Після увімкнення цієї опції, додаток буде відправляти запити не напряму до віддаленого словника, а використовуватиме альтернативний проміжний сервер, який перенаправляє всі запити далі.

### Код доступу до віддаленого сервісу
Для використання сервісу віддалених словників рекомендується отримати власний код доступу. За замовчуванням в додатку вже використовується попередньо зареєстрований код доступу. Але використовуваний в додатку віддалений сервіс словників накладає певні обмеження і ліміти запитів на кожного безкоштовного користувача. Тому при масовому використанні одного кода доступу - рано чи пізно його можуть заблокувати. Щоб уникнути цього рекомендується зареєструвати власний код доступу та вказати його в налаштуваннях додатку.
Посилання для реєстрації ви знайдете за полем для введення кода доступу, натиснувши на нього ви перейдете на відповідну веб-сторінку.

Примітка: Посилання для реєстрації відображається лише при використанні кода доступу за замовчуванням. Після того, як ви вкажете в налаштуваннях власний код доступу, це посилання буде приховане. Для того, щоб відновити код доступу за замовчуванням, просто очистіть поле для його введення та натисніть "Гаразд". Початковий код доступу буде відновлено в конфігурації додатку і ви побачите його відкривши наступного разу діалогове вікно налаштувань.

## Коротка довідкова інформація
Щоб прослухати коротку довідкову інформацію - перейдіть в режим керування додатком за допомогою NVDA + D, після чого натисніть H. Ви почуєте повідомлення з переліком всіх доступних клавішних команд та можливостей додатку.

## Журнал змін

### Версія 1.0. Особливості реалізації
* виконання запитів до віддаленого сервера в окремому потоці для уникнення блокування роботи NVDA;
* сигнали при очікуванні відповіді від сервера;
* кешування останніх 100 запитів для зменшення навантаження на віддалений сервіс словників;
* перемикання до режиму керування додатком;
* можливість використання альтернативного сервера;
* діалогове вікно налаштувань додатку.

## Внесення змін до NVDA Quick Dictionary
Ви можете клонувати репозиторій проекту, щоб внести зміни до вихідного коду.

### Залежності
Наступні модулі можуть бути встановлені за допомогою pip:
- markdown
- scons
- python-gettext

### Побудова додатку з вихідних кодів
1. Відкрийте командний рядок та перейдіть до кореневого каталогу репозиторію проекту.
2. Запустіть команду **scons**. Створений додаток, якщо не виникне помилок, буде розміщений в поточному каталозі.

[1]: https://github.com/grisov/quickDictionary
